<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Functions for reading, writing, and checking/checksumming caches of dm
objects"><title>dm Cache Functions — DMCache • dmhct</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="dm Cache Functions — DMCache"><meta property="og:description" content="Functions for reading, writing, and checking/checksumming caches of dm
objects"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dmhct</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9002</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jesse-smith/dmhct/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1><code>dm</code> Cache Functions</h1>
      <small class="dont-index">Source: <a href="https://github.com/jesse-smith/dmhct/blob/HEAD/R/dm_cache.R" class="external-link"><code>R/dm_cache.R</code></a></small>
      <div class="d-none name"><code>DMCache.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Functions for reading, writing, and checking/checksumming caches of <code>dm</code>
objects</p>
    </div>


    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-DMCache-write"><code>DMCache$write()</code></a></p></li>
<li><p><a href="#method-DMCache-read"><code>DMCache$read()</code></a></p></li>
<li><p><a href="#method-DMCache-check"><code>DMCache$check()</code></a></p></li>
<li><p><a href="#method-DMCache-checksum"><code>DMCache$checksum()</code></a></p></li>
</ul></div><p></p><hr><a id="method-DMCache-write"></a><div class="section">
<h3 id="method-write-">Method <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code><a class="anchor" aria-label="anchor" href="#method-write-"></a></h3>

<div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DMCache</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span></span>
<span>  <span class="va">dm</span>,</span>
<span>  <span class="va">checksum</span>,</span>
<span>  <span class="va">file</span>,</span>
<span>  dir <span class="op">=</span> <span class="fu"><a href="../reference/path_create.html">path_create</a></span><span class="op">(</span><span class="st">"~"</span>, <span class="st">".cache_dmhct"</span><span class="op">)</span>,</span>
<span>  n_threads <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%/%</a></span><span class="fl">2L</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dm</code></dt>
<dd><p><code>[dm]</code> A <code>dm</code> object</p></dd>


<dt><code>checksum</code></dt>
<dd><p><code>[chr(1)]</code> The hash of the <code>dm</code> object</p></dd>


<dt><code>file</code></dt>
<dd><p><code>[chr(1)]</code> The file stem to use for the cache objects</p></dd>


<dt><code>dir</code></dt>
<dd><p><code>[chr(1)]</code> The directory in which to save the cache objects</p></dd>


<dt><code>n_threads</code></dt>
<dd><p><code>[int(1)]</code> The number of threads to use when serializing
the <code>dm</code> object</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p><code>[dm]</code> The <code>dm</code> object (invisibly)
Read <code>dm</code> Data or its Checksum from a the Specified Cache</p>
</div>

</div><p></p><hr><a id="method-DMCache-read"></a><div class="section">
<h3 id="method-read-">Method <code>read()</code><a class="anchor" aria-label="anchor" href="#method-read-"></a></h3>

<div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DMCache</span><span class="op">$</span><span class="fu">read</span><span class="op">(</span></span>
<span>  obj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"checksum"</span><span class="op">)</span>,</span>
<span>  <span class="va">file</span>,</span>
<span>  dir <span class="op">=</span> <span class="fu"><a href="../reference/path_create.html">path_create</a></span><span class="op">(</span><span class="st">"~"</span>, <span class="st">".cache_dmhct"</span><span class="op">)</span>,</span>
<span>  fail <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_threads <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="va">obj</span> <span class="op">==</span> <span class="st">"data"</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%/%</a></span><span class="fl">2L</span><span class="op">)</span> <span class="kw">else</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>obj</code></dt>
<dd><p><code>[chr(1)]</code> What to read from the cache</p></dd>


<dt><code>file</code></dt>
<dd><p><code>[chr(1)]</code> The file stem to use for the cache objects</p></dd>


<dt><code>dir</code></dt>
<dd><p><code>[chr(1)]</code> The directory in which to save the cache objects</p></dd>


<dt><code>fail</code></dt>
<dd><p><code>[lgl(1)]</code> Whether to error if <code>dir</code>/<code>obj</code>_<code>file</code> combo does
not exist</p></dd>


<dt><code>n_threads</code></dt>
<dd><p><code>[int(1)]</code> The number of threads to use when
de-serializing the object</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p><code>[dm|chr(1)]</code> The de-serialized object
Check Hash for <code>dm</code> Object</p>
</div>

</div><p></p><hr><a id="method-DMCache-check"></a><div class="section">
<h3 id="method-check-">Method <code>check()</code><a class="anchor" aria-label="anchor" href="#method-check-"></a></h3>

<div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DMCache</span><span class="op">$</span><span class="fu">check</span><span class="op">(</span></span>
<span>  <span class="va">checksum</span>,</span>
<span>  <span class="va">file</span>,</span>
<span>  dir <span class="op">=</span> <span class="fu"><a href="../reference/path_create.html">path_create</a></span><span class="op">(</span><span class="st">"~"</span>, <span class="st">".cache_dmhct"</span><span class="op">)</span>,</span>
<span>  n_threads <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%/%</a></span><span class="fl">2L</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>checksum</code></dt>
<dd><p><code>[chr(1)]</code> The hash of the <code>dm</code> object</p></dd>


<dt><code>file</code></dt>
<dd><p><code>[chr(1)]</code> The file stem to use for the cache objects</p></dd>


<dt><code>dir</code></dt>
<dd><p><code>[chr(1)]</code> The directory in which to save the cache objects</p></dd>


<dt><code>n_threads</code></dt>
<dd><p><code>int(1)</code> The number of threads to use when
de-serializing the cached checksum</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p><code>[lgl(1)]</code> Whether the passed <code>checksum</code> and cached <code>checksum</code>
are identical
Hash a <code>dm</code> Object</p>
<p><code>dm_checksum()</code> creates a checksum by hashing each table + its name individually,
sorting by name, and hashing a list of the results. This means that the hash
does not change when the ordering of the tables change in the dm, but does
change if any data or names are added, deleted, or modified.</p>
</div>

</div><p></p><hr><a id="method-DMCache-checksum"></a><div class="section">
<h3 id="method-checksum-">Method <code>checksum()</code><a class="anchor" aria-label="anchor" href="#method-checksum-"></a></h3>

<div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">DMCache</span><span class="op">$</span><span class="fu">checksum</span><span class="op">(</span><span class="va">dm</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dm</code></dt>
<dd><p><code>[dm]</code> The <code>dm</code> object to hash</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p><code>[chr(1)]</code> The hash string of the object</p>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jesse Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

